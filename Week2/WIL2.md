# 컨트롤러, 서비스, 리포지토리의 역할

### Controller

- 클라이언트의 요청을 받아 해당 요청을 처리하고, 결과를 반환하는 역할
- HTTP 요청을 수신하고 처리
- 요청을 처리하기 위해 Service를 호출
- Service에서 처리된 결과를 반환하기 위해 View에 전달
- View는 처리된 결과를 HTML, JSON, XML 등의 형태로 클라이언트에 반환

### Service

- 비즈니스 로직을 처리하는 역할
- Controller에서 요청된 파라미터를 기반으로 Repository를 호출하여 데이터를 조회, 수정, 삭제하고, 이를 바탕으로 비즈니스 로직을 처리
- Controller에서 요청된 데이터 검증 및 필요한 경우 예외 처리 수행
- Repository에서 발생한 예외 처리 및 Service에서 발생한 예외를 Controller에 전달

### Repository

- 데이터의 영속성을 관리하는 역할
    - 데이터의 영속성이란 데이터의 지속적인 보존을 보장하는 것을 의미함
    - 데이터의 영속성을 관리하면 안정성과 신뢰성을 높일 수 있음
- DB와의 통신을 담당. 데이터 조회, 삽입, 수정, 삭제 등의 작업(CRUD 연산) 수행
- Service에서 요청된 데이터를 DB에서 수행(CRUD 연산 모두)하고, 이를 Service로 전달
- DB와의 연결을 관리하며 DB와의 통신에서 발생하는 예외를 처리

### 각각의 역할을 분리하여 개발하는 이유

- 역할을 분리하여 개발을 진행하면 코드의 유지보수와 확장성이 향상 됨
- 특정 역할의 로직이 변경되더라도 다른 역할에 영향을 미치지 않음 (의존성 제거)

# TDD란? 왜 하는가?

### TDD(Test-Driven Development : 테스트 주도 개발)

- 소프트웨어 개발 방법론 중 하나로, 테스트를 먼저 작성하고 이를 통화하는 코드를 이후에 작성하는 방식으로 개발을 진행하는 방법
- 크게 3단계로 구성됨
    1. RED : 테스트 작성 단계
        - 기능을 구현하기 전에 어떤 동작을 하는지 명확하게 정의하고 이를 검증할 수 있는 테스트 코드를 작성
        - 해당 단계에서 테스트 코드는 테스트 시 실패하도록 코드를 작성함
    2. GREEN : 테스트를 통과하는 코드를 작성하는 단계
        - RED 단계에서 작성한 테스트를 통과하도록 코드를 작성
        - 최대한 간단하고 단순한 코드를 작성하며, 테스트를 통과하는 것이 목적
    3. REFACTOR : 작성한 코드를 리팩토링하는 단계
        - 작성한 코드를 보다 명확하고 간결하게 개선
        - 중복 코드 제거 및 가독성 증대
        - REFACTOR 단계에서도 테스트를 통과하는지 확인

### TDD 사용 이유(장점)

- 코드 품질 향상
    - 테스트를 먼저 작성하고 이를 통과하는 코드를 작성하기 때문에 코드의 품질이 높아짐
    - 불필요한 코드의 생성을 줄이고, 코드의 가독성과 유지보수성을 높일 수 있음
    - 테스트 코드는 테스트 단위가 명확하므로 TDD를 통해 개발 시 기능별로 모듈화가 잘 이루어질 수 있음. 즉, 객체 지향적인 코드 개발이 가능
- 코드 버그 감소
    - 테스트를 작성하는 과정에서 버그를 발견하고 이를 수정해 나가는 과정을 거치므로, 코드의 버그 발생 가능성이 줄어듦
- 리팩토링 용이
    - 테스트 코드를 통과하는 코드를 리팩토링하는 과정을 거치므로, 코드의 리팩토링을 효율적으로 할 수 있음
- 설계 개선
    - 테스트를 작성하는 과정에서 불필요한 의존성을 발견하고 해결할 수 있음

### TDD의 단점

- 높은 초기 투자 비용
    - 테스트 코드를 작성하고 이를 통과하는 코드를 작성하는 과정이 추가되므로, 초기에 많은 비용이 추가로 필요함
- 높은 학습 곡선
    - TDD를 효과적으로 사용할 수 있는 수준으로 개발자를 교육하는데 많은 시간이 필요함
